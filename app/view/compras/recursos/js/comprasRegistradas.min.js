$(document).ready(function(){$("#comprasTable").DataTable({language:{url:"/gestion/public/js/SpanishDataTable1.10.21/Spanish.json"},dom:"Bfrtip",buttons:[{extend:"excelHtml5",text:"Exportar a Excel",title:"Registro de Compras"},{extend:"pdfHtml5",text:"Exportar a PDF",title:"Registro de Compras",orientation:"portrait",pageSize:"A4",exportOptions:{columns:":not(:last-child)"}},{extend:"print",text:"Imprimir",title:"Compras Registradas",customize:function(t){var e=JSON.parse("<?php echo json_encode(number_format($totalGasto, 2)); ?>"),o=JSON.parse("<?php echo json_encode(array_filter($totalesPorMetodo, function($total) { return $total > 0; })); ?>");$(t.document.body).prepend('<div style="margin-bottom: 20px; text-align: center;"><h2>Resumen de Compras</h2><p><strong>Total del Día: </strong>'+e+" Soles</p></div>"),$(t.document.body).append('<div class="summary mt-4"><h3>Resumen por Método de Pago</h3>'+Object.keys(o).map(function(t){var e=o[t],a="Efectivo"===t?"primary":"Visa"===t?"success":"Yape"===t?"warning":"Plin"===t?"info":"secondary";return'<div style="margin: 10px 0; font-weight: bold;"><span style="color: '+a+'">'+t+":</span> "+e.toFixed(2)+" Soles</div>"}).join("")+"</div>"),$(t.document.body).css({"font-family":"Arial, sans-serif","text-align":"center"})}}]})});